/****
Copyright (c) 2015 The Jackson Laboratory

This is free software: you can redistribute it and/or modify it 
under the terms of the GNU General Public License as published by  
the Free Software Foundation, either version 3 of the License, or  
(at your option) any later version.
 
This software is distributed in the hope that it will be useful,  
but WITHOUT ANY WARRANTY; without even the implied warranty of 
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU 
General Public License for more details.

You should have received a copy of the GNU General Public License 
along with this software.  If not, see <http://www.gnu.org/licenses/>.
****/

package org.jax.cs.jcmsWebInstaller;

import javax.swing.JDesktopPane;
import javax.swing.JFrame;

/**
 *
 * @author cnh
 */
public class UserAgreementPanel extends JCMSPanel {

    /**
     * Creates new form UserAgreementPanel
     */
    public UserAgreementPanel(JDesktopPane desktopPane, JFrame frame) {
        super.JCMSPanel(desktopPane, frame);
        initComponents();
        txtMessage.setText("");
        this.nextButton.setEnabled(false);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jScrollPane1 = new javax.swing.JScrollPane();
        txtUserAgreement = new javax.swing.JTextArea();
        backButton = new javax.swing.JButton();
        jLabel1 = new javax.swing.JLabel();
        nextButton = new javax.swing.JButton();
        jLabel2 = new javax.swing.JLabel();
        txtFirstAndLastName = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        txtOrganization = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        txtEmail = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        txtPhoneNumber = new javax.swing.JTextField();
        cbxLicenseAgreement = new javax.swing.JCheckBox();
        txtMessage = new javax.swing.JLabel();

        txtUserAgreement.setEditable(false);
        txtUserAgreement.setColumns(20);
        txtUserAgreement.setLineWrap(true);
        txtUserAgreement.setRows(5);
        txtUserAgreement.setText("JCMS User Agreement\n\nIn order to receive a copy of JCMS software and documentation, please read and agree to the following license. After clicking ‘Register’ you’ll see a ‘Download JCMS’ link. Click the link and you will be taken to the download page.\n\nThe Jackson Laboratory Colony Management System software (JCMS) is a Microsoft® Access application. It runs under Access2000, Access2003, Access2007, and Access2010-32bit. It has been tested under Windows XP, Windows 2000, Windows 2003, Windows Vista, and Windows7. You should plan on reserving approximately 60 Megabytes of disk space. The download file is in Microsoft Installer format (MSI). You may download it to your local system or run it directly from this web page.\n\nStatement of Principle\n\nThis software was developed with support from the NIH and the Howard Hughes Medical Institute and is made available to the research community in support of the colony management of mouse models used in the biological sciences. For over seventy years, scientists at The Jackson Laboratory have been conducting mouse-based biomedical research.  As a result, we have accumulated a tremendous wealth of information related to husbandry, genetics and biology associated with selecting and using laboratory mice in research.  We also obtain new knowledge as we provide custom mouse breeding and related support services that is used in our research and the development of additional mouse models.  The cumulative knowledge of The Laboratory is shared with researchers around the world through our scientific presentations, technical information services, Web-accessible databases, printed literature and publications, and training programs.\n\nLICENSE AGREEMENT\n\nIMPORTANT! The Product is licensed only on the condition that you and your employer, company, educational institution or organization (“YOU”) agree with the Jackson Laboratory (“JACKSON”) to the terms and conditions set forth below. PLEASE CAREFULLY READ THE TERMS OF THIS LICENSE AGREEMENT.\n\nIF YOU AGREE TO BE BOUND BY THE TERMS OF THIS AGREEMENT, YOU SHOULD CLICK ON THE “I Accept” BOX AT THE BOTTOM OF THIS AGREEMENT. IF YOU DO NOT AGREE TO THE TERMS OF THIS AGREEMENT, YOU ARE NOT AUTHORIZED TO USE THE PRODUCT.\n\n1. PRODUCT: As used in this Agreement “Product” shall mean the software or service identified in the Download Summary screen, and all related documentation.\n2. LICENSE TO USE: JACKSON hereby grants to YOU a personal, non-exclusive, non-transferable, limited license to use the Product solely on the terms, conditions and restrictions contained in this Agreement. The rights granted to YOU shall, subject to the Restrictions set out in Section 3 below, mean the right to use the Product in support of your organization’s research or educational purposes only.\n3. OWNERSHIP & RESTRICTIONS: The Product and any and all knowledge, know-how and/or techniques relating to the Product, as may be modified or enhanced, in whole or in part, is and will remain the sole and absolute property of JACKSON and JACKSON owns any and all right, title and interest in and to the Product. All inventions, discoveries, improvements, software, copyright, know-how or other intellectual property, whether or not patentable or copyrightable, created by JACKSON prior to, after the termination of, or during the course of this Agreement pertaining to the Product is and will remain the sole and absolute property of JACKSON. No right, title or interest in or to any official mark, trademark, service mark, logo, or trade name of JACKSON is granted to YOU under this Agreement. Without limiting the forgoing YOU shall not, and shall not authorize any third party to:\n    1. Make copies of the Product, other than (a) additional copies necessary for testing and/or training as required for YOUR use of the product, and (b) a reasonable number of backup copies retained under YOUR direct control and as necessary to secure YOUR data stored in the Product;\n    2. Modify, decompile, disassemble, translate into another  computer language, create derivative works, or otherwise reverse engineer the Product (including any source or object code), or disclose any trade secrets relating to the Product, except for internal use only;\n    3. Any internal modifications made to the software may not be distributed to another party under another name;\n    4. Any internal modifications made to the software must only be distributed to third parties through JACKSON. Only JACKSON will be responsible for curating the source code and for distribution of such source code;\n    5. YOU shall not, and shall not authorize any third party to distribute, sell, lease, transfer, assign, trade, rent or publish the Product or any part thereof and/ or copies thereof, to others;\n    6. License or sublicense the use of the Product to others;\n    7. Use, without its expressed permission, the name of JACKSON or in YOUR advertising, publicity, or otherwise.\n    8. YOU agree not to export or provide access to Language Evaluator contrary to U.S. federal laws governing export control, as further identified in this Agreement and in federal law. \n4. DISCLAIMER OF WARRANTY: THE PRODUCT IS PROVIDED TO YOU BY JACKSON IN ORDER TO ALLOW YOU TO OBTAIN ACCESS TO LEADING ACADEMIC RESEARCH. THE PRODUCT IS PROVIDED TO YOU BY JACKSON “AS IS”, AND YOU ACKNOWLEDGE AND AGREE THAT JACKSON MAKES NO REPRESENTATIONS AND EXTENDS NO WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED. THERE ARE NO EXPRESS OR IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS OF THE PRODUCT FOR A PARTICULAR PURPOSE, OR THAT THE USE OF THE PRODUCT WILL PRODUCE A DESIRED RESULT OR THAT THE USE OF THE PRODUCT WILL NOT INFRINGE ANY PATENT, COPYRIGHT, TRADEMARK OR OTHER RIGHTS, OR THAT THE PRODUCT IS ERROR-FREE OR VIRUS-FREE, OR ANY OTHER EXPRESS OR IMPLIED WARRANTIES. THE UNITED NATION CONVENTION ON THE INTERNATIONAL SALE OF GOODS SHALL NOT APPLY TO THE PROVISIONS OF THIS AGREEMENT.IN PARTICULAR, NOTHING IN THIS AGREEMENT IS OR WILL BE CONSTRUED AS:A WARRANTY OR REPRESENTATION BY JACKSON AS TO ANY INTELLECTUAL PROPERTY RIGHTS IN THE PRODUCT;AN OBLIGATION TO FURNISH ANY PRODUCTS, SOFTWARE, TECHNOLOGY, OR TECHNOLOGICAL INFORMATION OTHER THAN THE PRODUCT;AN OBLIGATION TO CORRECT MALFUNCTIONS (“MALFUNCTIONS”) THAT ARISE IN ANY VERSION OF THE PRODUCT DELIVERED TO YOU. MALFUNCTIONS, AS USED HEREIN, MEANS ERRORS DEEMED TO BE INTERNAL TO THE PRODUCT. JACKSON DO NOT WARRANT THAT THE PRODUCT IS FREE FROM MALFUNCTIONS, NOR THAT ANY MALFUNCTIONS CAN OR WILL BE CORRECTED OR THAT JACKSON WILL DEVELOP OR PROVIDE YOU WITH ANY OPERATIONS, CAPABILITIES OR FEATURES NOT PRESENT IN THE VERSION OF THE PRODUCT DELIVERED TO YOU UNDER THIS AGREEMENT.\n5. LIMITATION OF LIABILITY: JACKSON WILL NOT BE LIABLE TO YOU OR ANY OTHER PERSON OR ENTITY FOR ANY LIABILITY, LOSS OR DAMAGES CAUSED OR ALLEGED TO HAVE BEEN CAUSED, EITHER DIRECTLY OR INDIRECTLY, BY THE PRODUCT. WITHOUT LIMITING THE FOREGOING, IN NO EVENT WILL JACKSON BE LIABLE FOR ANY LOST REVENUE, PROFIT, BUSINESS INTERRUPTION OR DATA, OR FOR SPECIAL, INDIRECT, CONSEQUENTIAL, INCIDENTAL OR PUNITIVE DAMAGES, HOWEVER CAUSED AND REGARDLESS OF THE THEORY OF LIABILITY, ARISING OUT OF OR RELATED TO THE USE OF OR INABILITY TO USE THE PRODUCT, EVEN IF JACKSON HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.\n6. INDEMNITY: YOU WILL INDEMNIFY, DEFEND AND HOLD HARMLESS JACKSON, ITS STAFF, AND AGENTS FROM AND AGAINST ANY AND ALL LIABILITY, LOSS, DAMAGE, ACTION, CLAIM OR EXPENSE (INCLUDING ATTORNEY’S FEES AND COSTS AT TRIAL AND APPELLATE LEVELS) IN CONNECTION WITH ANY CLAIM, SUIT, ACTION, DEMAND OR JUDGMENT ARISING OUT OF CONNECTED WITH, RESULTING FROM, OR SUSTAINED AS A RESULT OF YOUR USE OF THE PRODUCT OR IN EXECUTING AND PERFORMING THIS AGREEMENT.\n7. TERM: This Agreement is effective until terminated. YOU may terminate this Agreement at any time by ceasing use of the Product and destroying or deleting any copies of the Product. This Agreement will terminate immediately without notice from JACKSON if you fail to comply with any provision of this Agreement. On any termination of this Agreement the Disclaimer of Warranty, Restrictions, Limitation of Liability and Indemnity provisions of this Agreement shall survive such termination.\n8. Work described herein was funded, in whole or in part, by National Institutes of Health Grant Number 1R01GM072863-01.; The United States government has certain rights in the invention. Pursuant to U.S. laws, Software may not be downloaded, acquired or otherwise exported or re-exported (i) into, or to a national or resident of any country to which the U.S. has embargoed goods; or (ii) to anyone on the U.S. Treasury Department’s list of Specially Designated Nations or the U.S. Commerce Department’s Table of Denial Orders. By signing this License, you represent that: 1) you are not located in or under the control of a national or resident of any such country or on any such list; and 2) you will not export or re-export the Software to any prohibited county, or to any prohibited person, entity, or end-user as specified by U.S. export controls.\n9. USE OF THE DOWNLOAD SERVICE: YOU represent and warrant that YOU possess the legal authority to enter into this Agreement, and that YOU will be financially responsible for your use of the Download Service. YOU agree to be responsible for all costs, charges and taxes (where applicable) arising out of your use of the Product and the Download Service. YOU are responsible for supplying any hardware or software necessary to use the Product pursuant to this Agreement.\n10. GENERAL PROVISIONS:\n    1. The Download Service is operated from The Jackson Laboratory, Maine USA and this Agreement (and all disputes arising out of or relating to this Agreement) will be governed and interpreted according to the laws of Maine, USA without regard to its conflicts of laws rules. YOU agree that by accepting the terms of this Agreement or using the Product YOU have attorned to the exclusive jurisdiction of the Courts of competent authority in the Hancock County Maine.\n    2. USE OF THE PRODUCT OR THE DOWNLOAD SERVICE IS PROHIBITED IN ANY JURISDICTION WHICH DOES NOT GIVE EFFECT TO THE TERMS OF THIS AGREEMENT.\n    3. YOU agree that no joint venture, partnership, employment, consulting or agency relationship exists between YOU and JACKSON as a result of this Agreement or your use of the Download Service.\n    4. This Agreement is the entire agreement between YOU and JACKSON relating to this subject matter. YOU will not contest the validity of this Agreement merely because it is in electronic form.\n    5. No modification of this Agreement will be binding, unless in writing and accepted by an authorized representative of each party.\n    6. The provisions of this Agreement are severable in that if any provision in the Agreement is determined to be invalid or unenforceable under any controlling body of law, that will not affect the validity or enforceability of the remaining provisions of the Agreement.\n    7. YOU should print out or download a copy of this Agreement and retain it for your records.\n    8. YOU consent to the use of the English language in this Agreement.\n    9. YOU may not assign this agreement. JACKSON, at its sole discretion may assign this agreement without notice to YOU.\n");
        txtUserAgreement.setWrapStyleWord(true);
        txtUserAgreement.setCaretPosition(0);
        jScrollPane1.setViewportView(txtUserAgreement);

        backButton.setText("Back");
        backButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                backButtonNextActionPerformed(evt);
            }
        });

        jLabel1.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jLabel1.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel1.setText("JCMS User Agreement");
        jLabel1.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);

        nextButton.setText("Next");
        nextButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                nextButtonNextActionPerformed(evt);
            }
        });

        jLabel2.setText("Your First and Last Name");

        jLabel3.setText("Organization");

        jLabel4.setText("Your Email");

        jLabel5.setText("Your Phone Number");

        txtPhoneNumber.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtPhoneNumberActionPerformed(evt);
            }
        });

        cbxLicenseAgreement.setText("I have understood and accept the terms and conditions set forth in this license agreement");
        cbxLicenseAgreement.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbxLicenseAgreementActionPerformed(evt);
            }
        });

        txtMessage.setForeground(new java.awt.Color(255, 0, 0));
        txtMessage.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        txtMessage.setText("[Message Field]");

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(48, 48, 48)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(cbxLicenseAgreement)
                        .addContainerGap(22, Short.MAX_VALUE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jScrollPane1, javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel1, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(backButton)
                                .addGap(18, 18, 18)
                                .addComponent(txtMessage, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addGap(18, 18, 18)
                                .addComponent(nextButton))
                            .addGroup(layout.createSequentialGroup()
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel5)
                                    .addComponent(jLabel2)
                                    .addComponent(jLabel4)
                                    .addComponent(jLabel3))
                                .addGap(30, 30, 30)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(txtFirstAndLastName)
                                    .addComponent(txtEmail)
                                    .addComponent(txtPhoneNumber, javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(txtOrganization, javax.swing.GroupLayout.Alignment.TRAILING))
                                .addGap(8, 8, 8)))
                        .addGap(48, 48, 48))))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addGap(22, 22, 22)
                .addComponent(jLabel1)
                .addGap(18, 18, 18)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 232, Short.MAX_VALUE)
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel2)
                    .addComponent(txtFirstAndLastName, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel3)
                    .addComponent(txtOrganization, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4)
                    .addComponent(txtEmail, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel5)
                    .addComponent(txtPhoneNumber, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(cbxLicenseAgreement)
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(nextButton)
                    .addComponent(backButton)
                    .addComponent(txtMessage))
                .addGap(19, 19, 19))
        );
    }// </editor-fold>//GEN-END:initComponents

    private void backButtonNextActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_backButtonNextActionPerformed
        this.previousPanel(this, this.getJcmsView());
    }//GEN-LAST:event_backButtonNextActionPerformed

    private void nextButtonNextActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_nextButtonNextActionPerformed
        Boolean blnContinue = true;
        if (this.txtFirstAndLastName.getText().trim().isEmpty()) {
            txtMessage.setText("Please enter your first and last name.");
            blnContinue = false;
        } else 
        if (this.txtOrganization.getText().trim().isEmpty()) {
            txtMessage.setText("Please enter your organization's name.");
            blnContinue = false;
        } else 
        if (this.txtEmail.getText().trim().isEmpty()) {
            txtMessage.setText("Please enter your email address.");
            blnContinue = false;
        } else 
        if (!this.txtEmail.getText().trim().contains("@")) {
            txtMessage.setText("Please enter your email address.");
            blnContinue = false;
        } else 
//        if (this.txtPhoneNumber.getText().trim().isEmpty()) {
//            txtMessage.setText("Please enter your phone number.");
//            blnContinue = false;
//        } else 
        if (!this.cbxLicenseAgreement.isSelected()) {
            txtMessage.setText("Please accept JCMS Web license agreement.");
            blnContinue = false;
        }
        if (blnContinue) {
            this.nextPanel(this, this.getJcmsView().getInstallationTypePanel(), this.getJcmsView());
            txtMessage.setText("");
        }
            
    }//GEN-LAST:event_nextButtonNextActionPerformed

    private void cbxLicenseAgreementActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbxLicenseAgreementActionPerformed
        this.nextButton.setEnabled(this.cbxLicenseAgreement.isSelected());
    }//GEN-LAST:event_cbxLicenseAgreementActionPerformed

    private void txtPhoneNumberActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtPhoneNumberActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtPhoneNumberActionPerformed

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton backButton;
    private javax.swing.JCheckBox cbxLicenseAgreement;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JButton nextButton;
    private javax.swing.JTextField txtEmail;
    private javax.swing.JTextField txtFirstAndLastName;
    private javax.swing.JLabel txtMessage;
    private javax.swing.JTextField txtOrganization;
    private javax.swing.JTextField txtPhoneNumber;
    private javax.swing.JTextArea txtUserAgreement;
    // End of variables declaration//GEN-END:variables
}
